
2023-05-09
# Question Stem
	You are given a string of length 5 called time, representing the current time on a digital clock in the format "hh:mm". The earliest possible time is "00:00" and the latest possible time is "23:59".
	
	In the string time, the digits represented by the ? symbol are unknown, and must be replaced with a digit from 0 to 9.
	
	Return an integer answer, the number of valid clock times that can be created by replacing every ? with a digit from 0 to 9.
# Test Case

Example 1:

>Input: time = "?5:00"
>Output: 2
>Explanation: We can replace the ? with either a 0 or 1, producing "05:00" or "15:00". Note that we cannot replace it with a 2, since the time "25:00" is invalid. In total, we have two choices.


Example 2:

>Input: time = "0?:0?"
>Output: 100
>Explanation: Each ? can be replaced by any digit from 0 to 9, so we have 100 total choices.


Example 3:

>Input: time = "??:??"
>Output: 1440
>Explanation: There are 24 possible choices for the hours, and 60 possible choices for the minutes. In total, we have 24 * 60 = 1440 choices.


# Process of Reflection

>"When I encountered the question, I **initially sought** function in the library to find a solution, **but to no avail**. Consequently, I **opted** to convert the string to an integer to **fulfill the requirements. **

>Regarding the store of information, the following details are provided:
>1. The **whereabouts** of the "?"
>2. The total number of possible **permutations** in the front part.
>3. The total number of possible **permutations** in the **rear** part."


# Code
## My Answer
```cpp

#include <iostream>
#include <vector>
#include <algorithm>
#include <string>
#include <unordered_map>
#include <algorithm>
#include <cmath>
#include <set>
#include<queue>
using namespace std;


class Solution {
public:
    int countTime(string time) {
        int indics=find(time.begin(),time.end(),':')-time.begin();
        string front=time.substr(0,indics);
        string behind=time.substr(indics+1,2);
        int front_int=1;
        int behind_int=1;
        front_int= cal_hour(front);
        //cout<<front_int<<endl;
        behind_int=cal_min(behind);
        //cout<<behind_int<<endl;
        return front_int*behind_int;
    }
    int cal_hour(string front){
        int frequencey=std::count(front.begin(), front.end(),'?');
        if(frequencey==0){
            return 1;
        }
        else if(frequencey==2){
            return 24;
        }
        else{
            int count=0;
            for(int i=0;i<2;i++){
                if (front[i]=='?' and i==0){
                    for(int j=0;j<=9;j++){
                        int d=int(front[1])-48;
                        if(j*10+d<=23){count++;
                        }
                        else{
                            break;
                        }

                    }
                }
                else if(front[i]=='?' and i==1){
                    for(int j=0;j<=9;j++){
                        if(j+10*(int(front[0])-48)<=23){count++;
                        }
                        else{
                            break;
                        }

                    }
                }
            }
            return count;
        }


    }
    int cal_min(string behind){
        int frequencey=std::count(behind.begin(), behind.end(),'?');
        if(frequencey==0){
            return 1;
        }
        else if(frequencey==2){
            return 60;
        }
        else{
            int count=0;
            for(int i=0;i<2;i++){
                if (behind[i]=='?' and i==0){
                    for(int j=0;j<=9;j++){
                        int d=int(behind[1])-48;
                        if(j*10+d<=59){count++;
                        }
                        else{
                            break;
                        }

                    }
                }
                else if(behind[i]=='?' and i==1){
                    for(int j=0;j<=9;j++){
                        if(j+10*(int(behind[0])-48)<=59){count++;
                        }
                        else{
                            break;
                        }

                    }
                }
            }
            return count;
        }


    }
};

int main() {
Solution x;
string y="??:??";

cout<<x.countTime(y);

}
```


## Gold's Answer

>"Using backtracking to solve the problem is a brilliant approach! Additionally, he **utilized** nested functions **to arrive at a solution**."

```cpp
class Solution {
public:
    bool check(const string &time) {
        int hh = stoi(time);
        int mm = stoi(time.substr(3));
        if (hh < 24 && mm < 60) {
            return true;
        } else {
            return false;
        }
    }

    int countTime(string time) {
        int res = 0;
        function<void(int)> dfs = [&](int pos) {
            if (pos == time.size()) {
                if (check(time)) {
                    res++;
                }
                return;
            }
            if (time[pos] == '?') {
                for (int i = 0; i <= 9; i++) {
                    time[pos] = '0' + i;
                    dfs(pos + 1);
                    time[pos] = '?';
                }
            } else {
                dfs(pos + 1);
            }
        };
        dfs(0);
        return res;
    }
};

```


```cpp
class Solution {
public:
    int countTime(string time) {
        int ans = 0;
        for (int h = 0; h < 24; ++h) {
            for (int m = 0; m < 60; ++m) {
                char s[20];
                sprintf(s, "%02d:%02d", h, m);
                int ok = 1;
                for (int i = 0; i < 5; ++i) {
                    if (s[i] != time[i] && time[i] != '?') {
                        ok = 0;
                        break;
                    }
                }
                ans += ok;
            }
        }
        return ans;
    }
};
```

>gold define a lambda function in countTime. And we must learn the method of handling the Numeral System. And his capacity of using relational operator.

```cpp
class Solution {
public:
    int countTime(string time) {
        auto f = [](string s, int m) {
            int cnt = 0;
            for (int i = 0; i < m; ++i) {
                bool a = s[0] == '?' || s[0] - '0' == i / 10;
                bool b = s[1] == '?' || s[1] - '0' == i % 10;
                cnt += a && b;
            }
            return cnt;
        };
        return f(time.substr(0, 2), 24) * f(time.substr(3, 2), 60);
    }
};
```




